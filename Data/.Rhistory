getwd()
library(gdata)
library(plyr)
manhattan <- read.csv(".\\2011_manhattan.csv",stringsAsFactors=FALSE,skip=4, header=TRUE)
head(manhattan,5)
summary(manhattan)
str(manhattan)
manhattan$SALE.PRICE.N <- as.numeric(gsub("[^[:digit:]]","", manhattan$SALE.PRICE))
manhattan$gross.sqft <- as.numeric(gsub("[^[:digit:]]","", manhattan$GROSS.SQUARE.FEET))
manhattan$land.sqft <- as.numeric(gsub("[^[:digit:]]","", manhattan$LAND.SQUARE.FEET))
manhattan$SALE.DATE<-as.Date(manhattan$SALE.DATE, "%m/%d/%Y")
manhattan$BUILDING.CLASS.CATEGORY<-factor(manhattan$BUILDING.CLASS.CATEGORY)
manhattan$YEAR.BUILT<-as.numeric((as.character(manhattan$YEAR.BUILT)))
str(manhattan)
count(is.na(manhattan$SALE.PRICE.N))
count(is.na(manhattan$gross.sqft))
count(is.na(manhattan$land.sqft))
names(manhattan) <- tolower(names(manhattan))
attach(manhattan)
st(sale.price.n)
# plot a histogram of sale prices where sale prices>0
hist(sale.price.n[sale.price.n>0])
# plot a histogram of gross square feet where sale price=0
hist(gross.sqft
hist(sale.price.n)
# plot a histogram of sale prices where sale prices>0
hist(sale.price.n[sale.price.n>0])
# plot a histogram of gross square feet where sale price=0
hist(gross.sqft[sale.price.n==0])
detach(manhattan)
manhattan.sale <- manhattan[manhattan$sale.price.n!=0,]
manhattan.sale <- manhattan.sale[manhattan.sale$gross.sqft!=0,]
plot(manhattan.sale$gross.sqft,manhattan.sale$sale.price.n)
plot(log10(manhattan.sale$gross.sqft),log10(manhattan.sale$sale.price.n))
manhattan.homes <- manhattan.sale[which(grepl("FAMILY",manhattan.sale$building.class.category)),]
dim(manhattan.homes)
plot(log10(manhattan.homes$gross.sqft),log10(manhattan.homes$sale.price.n))
#get the 5 point summary for the dataset variables where sale price is less than 100000
summary(manhattan.homes[which(manhattan.homes$sale.price.n<100000),])
## remove outliers that seem like they weren't actual sales
manhattan.homes$outliers <- (log10(manhattan.homes$sale.price.n) <=5) + 0
manhattan.homes <- manhattan.homes[which(manhattan.homes$outliers==0),]
plot(log10(manhattan.homes$gross.sqft),log10(manhattan.homes$sale.price.n))
# output the clean dataset to output file for analysis
write.csv(manhattan.homes,file=".\\2011_manhattan_tidy.csv")
manhattan.clean <- read.csv("..\\RData\\2011_manhattan_tidy.csv",skip=4, header=TRUE)
str(manhattan.clean)
manhattan.clean <- read.csv("..\\RData\\2011_manhattan_tidy.csv",header=TRUE)
str(manhattan.clean)
hist(manhattan.clean$gross.sqft)
hist(log(manhattan.clean$gross.sqft))
hist(manhattan.clean$sale.price.n)
hist(log(manhattan.clean$sale.price.n))
# Author: Abhishek Dharwadkar
hist(log(manhattan.clean$gross.sqft))
hist(log10(manhattan.clean$gross.sqft))
hist(log10(manhattan.clean$sale.price.n))
plot(log10(manhattan.clean$gross.sqft),log10(manhattan.clean$sale.price.n))
plot(log10(manhattan.clean$gross.sqft),log10(manhattan.clean$sale.price.n), xlab = "Gross Sqft", ylab = "Sale Price")
plot(log10(manhattan.clean$gross.sqft),log10(manhattan.clean$sale.price.n), pch = 16, cex = 1.3, col = "blue", xlab = "Gross Sqft", ylab = "Sale Price")
boxplot(manhattan.clean$sale.price.n~manhattan.clean$building.class.category)
boxplot(log10(manhattan.clean$sale.price.n)~manhattan.clean$building.class.category)
